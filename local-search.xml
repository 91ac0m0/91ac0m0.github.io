<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ubantu16.04_pwn配置</title>
    <link href="/91ac0m0.github.io/project/2022/08/15/ubantu16-04-pwn%E9%85%8D%E7%BD%AE/"/>
    <url>/91ac0m0.github.io/project/2022/08/15/ubantu16-04-pwn%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="ubantu16-04-pwn环境搭建"><a href="#ubantu16-04-pwn环境搭建" class="headerlink" title="ubantu16.04 pwn环境搭建"></a>ubantu16.04 pwn环境搭建</h1><h2 id="虚拟机安装"><a href="#虚拟机安装" class="headerlink" title="虚拟机安装"></a>虚拟机安装</h2><p>ubantu镜像下载<a href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/16.04/">地址</a></p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="vmtools（如果联网会自动安装）"><a href="#vmtools（如果联网会自动安装）" class="headerlink" title="vmtools（如果联网会自动安装）"></a>vmtools（如果联网会自动安装）</h3>  <figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">sudo apt-get updatesudo apt-get install open-vm-tools-desktop -ysudo reboot<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="python，git，pip等工具"><a href="#python，git，pip等工具" class="headerlink" title="python，git，pip等工具"></a>python，git，pip等工具</h3><h4 id="python3-6"><a href="#python3-6" class="headerlink" title="python3.6"></a>python3.6</h4><p>参考博客<a href="https://blog.csdn.net/weixin_48125776/article/details/122475540">python3.6安装</a>，这里先不用按照文中的安装pip，因为会下载pip8比较老</p><p>更改了默认py3版本之后，也把顺便默认的python从2.7改成3.6，参考博客<a href="https://blog.csdn.net/White_Idiot/article/details/78240298">更改默认py的版本</a></p><h4 id="pip21"><a href="#pip21" class="headerlink" title="pip21"></a>pip21</h4><p>安装pip21.3.1<a href="https://blog.csdn.net/weixin_46039239/article/details/114694348">安装pip</a>文中的命令为python3.7，需要使用如下命令。</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">curl https:&#x2F;&#x2F;bootstrap.pypa.io&#x2F;pip&#x2F;3.6&#x2F;get-pip.py -o get-pip.py<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>更换pip源,这里换成清华源</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">pip config set global.index-url https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h4 id="git"><a href="#git" class="headerlink" title="git"></a>git</h4><p>git clone命令会把下载内容放到我们使用git clone时候的路径下面，所以可以建一个文件夹专门存放git下载的文件</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h3 id="gdb重新编译和pwndbg的安装"><a href="#gdb重新编译和pwndbg的安装" class="headerlink" title="gdb重新编译和pwndbg的安装"></a>gdb重新编译和pwndbg的安装</h3><p>由于gdb调用py不是调用python这个可执行文件，而是链接到gdb的libpython.so，版本不能更改只能重新编译gdb。我的ubantu上gdb的py版本是3.5，能够支持的pip8无法下载很多模块（py3.5不能被pip21支持），所以这里选择下载py3.6重新编译gdb。</p><ul><li>查看gdb的python版本(如果是3.6就不用重新编译了)</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">(gdb) py&gt;import sys&gt;print(sys.version)&gt;end3.4.0 (default, Apr 11 2014, 13:08:40)[GCC 4.8.2]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><ul><li><p>卸载原来的gdb</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">sudo apt remove gdb<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure></li><li><p>从官网下载gdb压缩包 <a href="https://mirrors.ustc.edu.cn/gnu/gdb/">下载</a></p></li><li><p>安装</p></li></ul><p>解压：tar -zxf gdb-7.11.1.tar.gz</p><p>进入目录：cd gdb-7.11.1</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">mkdir buildcd    build..&#x2F;configure  （此处不用添加参数，会用默认版本的python）make        （时间稍久）sudo apt-get install texinfosudo make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>此时在terminal输入gdb能出现gdb界面了。</p><ul><li>pwndbg下载</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">git clone https:&#x2F;&#x2F;github.com&#x2F;pwndbg&#x2F;pwndbg cd pwndbg （修改 requirements.txt）.&#x2F;setup.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>修改的requirements如下，有些版本pip21无法下载，所以改一下版本号</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">attrs&#x3D;&#x3D;21.4.0capstone&#x3D;&#x3D;4.0.2enum34&#x3D;&#x3D;1.1.10future&#x3D;&#x3D;0.18.2iniconfig&#x3D;&#x3D;1.1.1isort&#x3D;&#x3D;5.10.1packaging&#x3D;&#x3D;21.3pbr&#x3D;&#x3D;5.9.0pluggy&#x3D;&#x3D;1.0.0psutil&#x3D;&#x3D;5.9.1py&#x3D;&#x3D;1.11.0pycparser&#x3D;&#x3D;2.21pyelftools&#x3D;&#x3D;0.28Pygments&#x3D;&#x3D;2.12.0pyparsing&#x3D;&#x3D;3.0.7pytest&#x3D;&#x3D;7.0.1python-ptrace&#x3D;&#x3D;0.9.8ROPGadget&#x3D;&#x3D;6.8six&#x3D;&#x3D;1.16.0testresources&#x3D;&#x3D;2.0.1tomli&#x3D;&#x3D;1.2.3unicorn&#x3D;&#x3D;2.0.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="其他安装"><a href="#其他安装" class="headerlink" title="其他安装"></a>其他安装</h3><ul><li>sublime</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">cd &#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packagessudo cp apt_pkg.cpython-35m-x86_64-linux-gnu.so apt_pkg.cpython-36m-x86_64-linux-gnu.sosudo add-apt-repository ppa:webupd8team&#x2F;sublime-text-3sudo apt-get updatesudo apt-get install sublime-text-installer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="ps："><a href="#ps：" class="headerlink" title="ps："></a>ps：</h2><p>我也尝试过不要重新编译gdb，改一改pwndbg的代码说不定也可以用，但是卡在psutil这个模块上面了，就没有试下去，以下是我的尝试<strong>！！！！没有成功！！！！</strong></p><ul><li>更改setup.sh</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none"># Find the Python version used by GDB.-PYVER&#x3D;$(gdb -batch -q --nx -ex &#39;pi import platform; print(&quot;.&quot;.join(platform.python_version_tuple()[:2]))&#39;)+PYVER&#x3D;3.6PYTHON+&#x3D;$(gdb -batch -q --nx -ex &#39;pi import sys; print(sys.executable)&#39;)PYTHON+&#x3D;&quot;$&#123;PYVER&#125;&quot;# Find the Python site-packages that we need to use so that# GDB can find the files once we&#39;ve installed them.if linux &amp;&amp; [ -z &quot;$INSTALLFLAGS&quot; ]; then    -SITE_PACKAGES&#x3D;$(gdb -batch -q --nx -ex &#39;pi import site; print(site.getsitepackages()[0])&#39;)    +SITE_PACKAGES&#x3D;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.6&#x2F;dist-packages    INSTALLFLAGS&#x3D;&quot;--target $&#123;SITE_PACKAGES&#125;&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>有些模块版本安装不了，需要更改一下requirements.txt，修改内容如上。</p><p>成功安装，启动gdb报错如下，据说强制更新psutil有用，但是我没有搞出来。</p><p><img src="C:\Users\zhngy\AppData\Roaming\Typora\typora-user-images\image-20220814092248721.png" alt="image-20220814092248721"></p>]]></content>
    
    
    
    <tags>
      
      <tag>-pwn</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/91ac0m0.github.io/project/2022/08/15/hello-world/"/>
    <url>/91ac0m0.github.io/project/2022/08/15/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
